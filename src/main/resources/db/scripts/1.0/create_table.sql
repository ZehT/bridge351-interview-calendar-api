CREATE TABLE PERSON
(
    ID    BIGINT GENERATED BY DEFAULT AS IDENTITY,
    NAME  VARCHAR(50) NOT NULL,
    EMAIL VARCHAR(50) NOT NULL,
    TYPE  SMALLINT    NOT NULL,
    CONSTRAINT PK_PERSON PRIMARY KEY (ID),
    CONSTRAINT UK_01_EMAIL UNIQUE (EMAIL)
);

COMMENT ON TABLE PERSON IS 'Table that represents an Interviewer or Canditate';
COMMENT ON COLUMN PERSON.ID IS 'Persons auto-generated ID';
COMMENT ON COLUMN PERSON.NAME IS 'Persons name';
COMMENT ON COLUMN PERSON.EMAIL IS 'Persons Email';
COMMENT ON COLUMN PERSON.TYPE IS '[1] Candidate [2] Interviewer';

CREATE TABLE SLOT
(
    ID        BIGINT GENERATED BY DEFAULT AS IDENTITY,
    PERSON_ID BIGINT    NOT NULL,
    START_AT  TIMESTAMP NOT NULL,
    CONSTRAINT PK_SLOT PRIMARY KEY (ID),
    CONSTRAINT FK_01_PERSON_ID FOREIGN KEY (PERSON_ID) REFERENCES PERSON (ID),
    CONSTRAINT UK_01_PERSON_ID_START_AT UNIQUE (PERSON_ID, START_AT)
);

COMMENT ON TABLE SLOT IS 'Table that represents the slots available of a Person';
COMMENT ON COLUMN SLOT.ID IS 'Slots auto-generated ID';
COMMENT ON COLUMN SLOT.PERSON_ID IS 'Person ID FK to Person Table';
COMMENT ON COLUMN SLOT.START_AT IS 'Slot Date and Hour';
