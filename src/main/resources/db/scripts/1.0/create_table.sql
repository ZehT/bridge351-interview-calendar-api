CREATE TABLE USER
(
    ID    BIGINT GENERATED BY DEFAULT AS IDENTITY,
    NAME  VARCHAR(50) NOT NULL,
    EMAIL VARCHAR(50) NOT NULL,
    TYPE  SMALLINT    NOT NULL,
    CONSTRAINT PK_USER PRIMARY KEY (ID),
    CONSTRAINT UK_01_EMAIL UNIQUE (EMAIL)
);

COMMENT ON TABLE USER IS 'Table that represents an Interviewer or Canditate';
COMMENT ON COLUMN USER.ID IS 'Users auto-generated ID';
COMMENT ON COLUMN USER.NAME IS 'Users name';
COMMENT ON COLUMN USER.EMAIL IS 'Users Email';
COMMENT ON COLUMN USER.TYPE IS '[1] Candidate [2] Interviewer';

CREATE TABLE SLOT
(
    ID       BIGINT GENERATED BY DEFAULT AS IDENTITY,
    USER_ID  BIGINT    NOT NULL,
    START_AT TIMESTAMP NOT NULL,
    CONSTRAINT PK_SLOT PRIMARY KEY (ID),
    CONSTRAINT FK_01_USER_ID FOREIGN KEY (USER_ID) REFERENCES USER (ID),
    CONSTRAINT UK_01_USER_ID_START_AT UNIQUE (USER_ID, START_AT)
);

COMMENT ON TABLE SLOT IS 'Table that represents the slots available of a User';
COMMENT ON COLUMN SLOT.ID IS 'Slots auto-generated ID';
COMMENT ON COLUMN SLOT.USER_ID IS 'User ID FK to User Table';
COMMENT ON COLUMN SLOT.START_AT IS 'Slot Date and Hour';
